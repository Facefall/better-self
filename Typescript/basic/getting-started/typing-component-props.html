<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typing Component Props | Zhuanxu</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="个人博客">
    
    <link rel="preload" href="/better-self/assets/css/0.styles.6d855a8d.css" as="style"><link rel="preload" href="/better-self/assets/js/app.daacf4f9.js" as="script"><link rel="preload" href="/better-self/assets/js/2.55692f4f.js" as="script"><link rel="preload" href="/better-self/assets/js/15.e586d2b0.js" as="script"><link rel="prefetch" href="/better-self/assets/js/10.e8a5a25f.js"><link rel="prefetch" href="/better-self/assets/js/11.0937f748.js"><link rel="prefetch" href="/better-self/assets/js/12.e7534d58.js"><link rel="prefetch" href="/better-self/assets/js/13.fb3ec27e.js"><link rel="prefetch" href="/better-self/assets/js/14.09d39474.js"><link rel="prefetch" href="/better-self/assets/js/16.8869326c.js"><link rel="prefetch" href="/better-self/assets/js/17.cf5d59dd.js"><link rel="prefetch" href="/better-self/assets/js/18.571ca598.js"><link rel="prefetch" href="/better-self/assets/js/19.93d98b3e.js"><link rel="prefetch" href="/better-self/assets/js/20.62f7e0d0.js"><link rel="prefetch" href="/better-self/assets/js/21.fe6383b0.js"><link rel="prefetch" href="/better-self/assets/js/22.c8535e99.js"><link rel="prefetch" href="/better-self/assets/js/23.2ef41e31.js"><link rel="prefetch" href="/better-self/assets/js/24.432eaa36.js"><link rel="prefetch" href="/better-self/assets/js/25.8679dbef.js"><link rel="prefetch" href="/better-self/assets/js/26.1f17de6e.js"><link rel="prefetch" href="/better-self/assets/js/27.65e1a725.js"><link rel="prefetch" href="/better-self/assets/js/28.ef5eb15f.js"><link rel="prefetch" href="/better-self/assets/js/29.41f46dd2.js"><link rel="prefetch" href="/better-self/assets/js/3.7599eb6b.js"><link rel="prefetch" href="/better-self/assets/js/30.be249bc8.js"><link rel="prefetch" href="/better-self/assets/js/31.9dc5d2ad.js"><link rel="prefetch" href="/better-self/assets/js/32.475081e9.js"><link rel="prefetch" href="/better-self/assets/js/33.1e2a3a18.js"><link rel="prefetch" href="/better-self/assets/js/34.0ea23c65.js"><link rel="prefetch" href="/better-self/assets/js/35.a0e9d994.js"><link rel="prefetch" href="/better-self/assets/js/36.ff118e38.js"><link rel="prefetch" href="/better-self/assets/js/37.00fbbee4.js"><link rel="prefetch" href="/better-self/assets/js/38.fb1f10e3.js"><link rel="prefetch" href="/better-self/assets/js/4.3685ee0f.js"><link rel="prefetch" href="/better-self/assets/js/5.40e559ad.js"><link rel="prefetch" href="/better-self/assets/js/6.fd5cd27e.js"><link rel="prefetch" href="/better-self/assets/js/7.c1825287.js"><link rel="prefetch" href="/better-self/assets/js/8.f0e0f69d.js"><link rel="prefetch" href="/better-self/assets/js/9.d8706061.js">
    <link rel="stylesheet" href="/better-self/assets/css/0.styles.6d855a8d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/better-self/" class="home-link router-link-active"><!----> <span class="site-name">Zhuanxu</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/better-self/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="颛顼的知识店铺" class="dropdown-title"><span class="title">颛顼的知识店铺</span> <span class="arrow down"></span></button> <button type="button" aria-label="颛顼的知识店铺" class="mobile-dropdown-title"><span class="title">颛顼的知识店铺</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Facefall" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/better-self/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="颛顼的知识店铺" class="dropdown-title"><span class="title">颛顼的知识店铺</span> <span class="arrow down"></span></button> <button type="button" aria-label="颛顼的知识店铺" class="mobile-dropdown-title"><span class="title">颛顼的知识店铺</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Facefall" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/better-self/index" class="sidebar-heading clickable"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/better-self/" aria-current="page" class="sidebar-link">个人简言</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/better-self/Typescript/react" class="sidebar-heading clickable open"><span>Typescript + React</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/better-self/Typescript/basic/setup" class="sidebar-heading clickable open"><span>BASIC</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/better-self/Typescript/basic/setup.html" class="sidebar-link">Setup</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/better-self/Typescript/basic/getting-started/typing-component-props" class="sidebar-heading clickable open active"><span>Getting Started</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/better-self/Typescript/basic/getting-started/typing-component-props.html" aria-current="page" class="active sidebar-link">Typing Component Props</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/better-self/Typescript/basic/getting-started/function-components.html" class="sidebar-link">Function Components</a></li><li><a href="/better-self/Typescript/basic/getting-started/hooks.html" class="sidebar-link">Hooks</a></li><li><a href="/better-self/Typescript/basic/getting-started/typing-defaultProps.html" class="sidebar-link">Typing DefaultProps</a></li></ul></section></li><li><a href="/better-self/Typescript/basic/troubleshooting-handbook.html" class="sidebar-link">Troubleshooting Handbook</a></li><li><a href="/better-self/Typescript/basic/recommendations.html" class="sidebar-link">Recommendations React + TypeScript</a></li><li><a href="/better-self/Typescript/basic/editor-tooling-and-integration.html" class="sidebar-link">Editor Tooling and Integration</a></li><li><a href="/better-self/Typescript/basic/linting.html" class="sidebar-link">Linting</a></li><li><a href="/better-self/Typescript/basic/examples.html" class="sidebar-link">Examples</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/better-self/Typescript/hoc/intro" class="sidebar-heading clickable"><span>HOC</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/better-self/Typescript/advanced/intro" class="sidebar-heading clickable"><span>Advanced</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/better-self/rust/study" class="sidebar-heading clickable"><span>rust 篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/better-self/project/e2e" class="sidebar-heading clickable"><span>项目篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/better-self/explore/vite 原理" class="sidebar-heading clickable"><span>探索篇</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/better-self/dev/vscode-config" class="sidebar-heading clickable"><span>开发篇</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typing-component-props"><a href="#typing-component-props" class="header-anchor">#</a> Typing Component Props</h1> <p>这是为熟悉 TypeScript 的 React 开发人员提供的基本方向和参考资料。</p> <p></p><div class="table-of-contents"><ul><li><a href="#typing-component-props">Typing Component Props</a><ul><li><a href="#basic-prop-types-examples">Basic Prop Types Examples</a></li><li><a href="#object-as-the-non-primitive-type">object as the non-primitive type</a></li><li><a href="#empty-interface-and-object">Empty interface, {} and Object</a></li><li><a href="#useful-react-prop-type-examples">Useful React Prop Type Examples</a></li><li><a href="#types-or-interfaces">Types or Interfaces?</a><ul><li><a href="#tl-dr">TL;DR</a></li><li><a href="#more-advice">More Advice</a></li></ul></li><li><a href="#useful-table-for-types-vs-interfaces">Useful table for Types vs Interfaces</a></li></ul></li></ul></div><p></p> <h3 id="basic-prop-types-examples"><a href="#basic-prop-types-examples" class="header-anchor">#</a> Basic Prop Types Examples</h3> <p>在 React + TypeScript 的项目中，你可能会使用到的 TypeScript 类型：</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">type</span> <span class="token class-name">AppProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  disabled<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  <span class="token comment">/** Array 数组 */</span>
  names<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">/** union type  联合类型 */</span>
  status<span class="token operator">:</span> <span class="token string">&quot;waiting&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">/** an object with known properties 已知具体属性的对象 */</span>
  obj<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">/** 对象数组! (common) */</span>
  objArr<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">/** 任何非基础数据类型 - can't access any properties (NOT COMMON but useful as placeholder) */</span>
  obj2<span class="token operator">:</span> object<span class="token punctuation">;</span>
  <span class="token comment">/** an interface with no required properties - (NOT COMMON, except for things like `React.Component&lt;{}, State&gt;`) */</span>
  obj3<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">/** 字典对象，带有任何 string 类型的 key 值， value 为确定的某些类型 */</span>
  dict1<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> MyTypeHere<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  dict2<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> MyTypeHere<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 同上</span>
  <span class="token comment">/** 不返回任何值的函数 (VERY COMMON) */</span>
  <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token comment">/** 带有形参的函数 (VERY COMMON) */</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token comment">/** function type syntax that takes an event (VERY COMMON) */</span>
  <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> React<span class="token punctuation">.</span>ChangeEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token comment">/** alternative function type syntax that takes an event (VERY COMMON) */</span>
  <span class="token function">onClick</span><span class="token punctuation">(</span>event<span class="token operator">:</span> React<span class="token punctuation">.</span>MouseEvent<span class="token operator">&lt;</span>HTMLButtonElement<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token comment">/** any function as long as you don't invoke it (not recommended) */</span>
  onSomething<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>
  <span class="token comment">/** 可选类型 (VERY COMMON!) */</span>
  optional<span class="token operator">?</span><span class="token operator">:</span> OptionalType<span class="token punctuation">;</span>
  <span class="token comment">/** useState 返回的 setState 类型 */</span>
  setState<span class="token operator">:</span> React<span class="token punctuation">.</span>Dispatch<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>SetStateAction<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="object-as-the-non-primitive-type"><a href="#object-as-the-non-primitive-type" class="header-anchor">#</a> <code>object</code> as the non-primitive type</h3> <p><code>object</code> 是在 TypeScript 中常被误解的类型。 它不是'any object', 而是'任何非基本数据类型(non-primitive type)'，
即代表所有不包括 <code>number</code>，<code>string</code>，<code>boolean</code>，<code>symbol</code>，<code>null</code> 和 <code>undefined</code> 的数据类型。</p> <p>使用 &quot;非基本数据类型&quot; 的类型表达在 react 中应该尽力避免的，应该尽量少用 <code>object</code> 类型。</p> <h3 id="empty-interface-and-object"><a href="#empty-interface-and-object" class="header-anchor">#</a> Empty interface, <code>{}</code> and <code>Object</code></h3> <p><code>{}</code> 和 <code>Object</code> 都代表 &quot;所有非空值&quot;，并非 &quot;空对象&quot;. <a href="https://typescript-eslint.io/rules/no-empty-interface/" target="_blank" rel="noopener noreferrer">使用这些类型是常见的误用，不建议<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">AnyNonNullishValue</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// equivalent to `type AnyNonNullishValue = {}` or `type AnyNonNullishValue = Object`</span>

<span class="token keyword">let</span> value<span class="token operator">:</span> AnyNonNullishValue<span class="token punctuation">;</span>

<span class="token comment">// these are all fine, but might not be expected</span>
value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// these are errors</span>
value <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="useful-react-prop-type-examples"><a href="#useful-react-prop-type-examples" class="header-anchor">#</a> Useful React Prop Type Examples</h3> <p>一些将 React 组件当做 props 传递的常用方式</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">AppProps</span> <span class="token punctuation">{</span>
  children<span class="token operator">?</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span> <span class="token comment">// best, accepts everything React can render</span>
  childrenElement<span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span>Element<span class="token punctuation">;</span> <span class="token comment">// react element</span>
  style<span class="token operator">?</span><span class="token operator">:</span> React<span class="token punctuation">.</span>CSSProperties<span class="token punctuation">;</span> <span class="token comment">// style props</span>
  
  <span class="token comment">// form 时间! the 其中的泛型参数是 event.target</span>
  <span class="token comment">//  more info: https://react-typescript-cheatsheet.netlify.app/docs/advanced/patterns_by_usecase/#wrappingmirroring</span>
  onChange<span class="token operator">?</span><span class="token operator">:</span> React<span class="token punctuation">.</span>FormEventHandler<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 假冒所有的原生 button props，不转发自身的 ref</span>
  props<span class="token operator">:</span> Props <span class="token operator">&amp;</span> React<span class="token punctuation">.</span>ComponentPropsWithoutRef<span class="token operator">&lt;</span><span class="token string">&quot;button&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> 

  <span class="token comment">// 模仿所有 MyButtonWithForwardRef 的属性，丙炔转发自身 ref</span>
  props2<span class="token operator">:</span> Props <span class="token operator">&amp;</span> React<span class="token punctuation">.</span>ComponentPropsWithRef<span class="token operator">&lt;</span>MyButtonWithForwardRef<span class="token operator">&gt;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><details class="custom-block details"><summary><u>JSX.Element vs React.ReactNode?</u></summary> <p>Quote @ferdaber: A more technical explanation is that a valid React node is not the same thing as what is returned by React.createElement. Regardless of what a component ends up rendering, React.createElement always returns an object, which is the JSX.Element interface, but React.ReactNode is the set of all possible return values of a component.</p> <p>JSX.Element -&gt; Return value of React.createElement</p> <p>React.ReactNode -&gt; Return value of a component</p></details> <p><a href="https://github.com/typescript-cheatsheets/react/issues/129" target="_blank" rel="noopener noreferrer">More discussion: Where ReactNode does not overlap with JSX.Element<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/typescript-cheatsheets/react/issues/new" target="_blank" rel="noopener noreferrer">Something to add? File an issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="types-or-interfaces"><a href="#types-or-interfaces" class="header-anchor">#</a> Types or Interfaces?</h3> <p>Types 还是 Interfaces 都可以用来定义 Props 和 state，所以该怎么选？</p> <h4 id="tl-dr"><a href="#tl-dr" class="header-anchor">#</a> TL;DR</h4> <p>使用 Interface 直到你需要用 Type - <a href="https://twitter.com/orta/status/1356129195835973632?s=20" target="_blank" rel="noopener noreferrer">orta<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="more-advice"><a href="#more-advice" class="header-anchor">#</a> More Advice</h4> <p>以下是几点经验法则：</p> <ul><li>当你在编写库、npm 包时，总是用 <code>interface</code> 定义 public API, 这样当一些类型丢失时，使用这些第三方包的用户能通过 <code>declaration merging</code> 的方式补全类型</li> <li>在定义 React 组件的 Props 和 State 时，考虑使用 <code>type</code>， 能提供一致性和更强的类型约束</li></ul> <p>具体解释： <a href="https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c" target="_blank" rel="noopener noreferrer">Interface vs Type alias in TypeScript 2.7<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>TypeScript Handbook 现在也提供了一些建议在 <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces" target="_blank" rel="noopener noreferrer">Differences Between Type Aliases and Interfaces<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这篇文章上.</p> <blockquote><p>Note: 越大规模，interfaces 在性能上会更优（具体详见<a href="https://github.com/microsoft/TypeScript/wiki/Performance#preferring-interfaces-over-intersections" target="_blank" rel="noopener noreferrer">此处<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 但对此持<a href="https://news.ycombinator.com/item?id=25201887" target="_blank" rel="noopener noreferrer">保留态度<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>类型对于 union types 联合类型 (例如，类型 <code>MyType = TypeA | TypeB</code>) 很有用，而接口更适合于声明字典形状，然后<code>implementing</code>或<code>extending</code>它们。</p> <h3 id="useful-table-for-types-vs-interfaces"><a href="#useful-table-for-types-vs-interfaces" class="header-anchor">#</a> Useful table for Types vs Interfaces</h3> <p>这是一个微妙的话题，不要太在意。这里有一张便利的表格:</p> <table><thead><tr><th>比较</th> <th style="text-align:center;">Type</th> <th style="text-align:center;">Interface</th></tr></thead> <tbody><tr><td>Can describe functions</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">✅</td></tr> <tr><td>Can describe constructors</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">✅</td></tr> <tr><td>Can describe tuples</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">✅</td></tr> <tr><td>Interfaces can extend it</td> <td style="text-align:center;">⚠️</td> <td style="text-align:center;">✅</td></tr> <tr><td>Classes can extend it</td> <td style="text-align:center;">🚫</td> <td style="text-align:center;">✅</td></tr> <tr><td>Classes can implement it (<code>implements</code>)</td> <td style="text-align:center;">⚠️</td> <td style="text-align:center;">✅</td></tr> <tr><td>Can intersect another one of its kind</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">⚠️</td></tr> <tr><td>Can create a union with another one of its kind</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">🚫</td></tr> <tr><td>Can be used to create mapped types</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">🚫</td></tr> <tr><td>Can be mapped over with mapped types</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">✅</td></tr> <tr><td>Expands in error messages and logs</td> <td style="text-align:center;">✅</td> <td style="text-align:center;">🚫</td></tr> <tr><td>Can be augmented</td> <td style="text-align:center;">🚫</td> <td style="text-align:center;">✅</td></tr> <tr><td>Can be recursive</td> <td style="text-align:center;">⚠️</td> <td style="text-align:center;">✅</td></tr></tbody></table> <p>⚠️ In some cases</p> <p>(来源: <a href="https://twitter.com/karoljmajewski/status/1082413696075382785" target="_blank" rel="noopener noreferrer">Karol Majewski<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/better-self/Typescript/basic/setup.html" class="prev">
        Setup
      </a></span> <span class="next"><a href="/better-self/Typescript/basic/getting-started/function-components.html">
        Function Components
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/better-self/assets/js/app.daacf4f9.js" defer></script><script src="/better-self/assets/js/2.55692f4f.js" defer></script><script src="/better-self/assets/js/15.e586d2b0.js" defer></script>
  </body>
</html>
