(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{289:function(t,e,a){"use strict";a.r(e);var s=a(14),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"typing-component-props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#typing-component-props"}},[t._v("#")]),t._v(" Typing Component Props")]),t._v(" "),e("p",[t._v("这是为熟悉 TypeScript 的 React 开发人员提供的基本方向和参考资料。")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#typing-component-props"}},[t._v("Typing Component Props")]),e("ul",[e("li",[e("a",{attrs:{href:"#basic-prop-types-examples"}},[t._v("Basic Prop Types Examples")])]),e("li",[e("a",{attrs:{href:"#object-as-the-non-primitive-type"}},[t._v("object as the non-primitive type")])]),e("li",[e("a",{attrs:{href:"#empty-interface-and-object"}},[t._v("Empty interface, {} and Object")])]),e("li",[e("a",{attrs:{href:"#useful-react-prop-type-examples"}},[t._v("Useful React Prop Type Examples")])]),e("li",[e("a",{attrs:{href:"#types-or-interfaces"}},[t._v("Types or Interfaces?")]),e("ul",[e("li",[e("a",{attrs:{href:"#tl-dr"}},[t._v("TL;DR")])]),e("li",[e("a",{attrs:{href:"#more-advice"}},[t._v("More Advice")])])])]),e("li",[e("a",{attrs:{href:"#useful-table-for-types-vs-interfaces"}},[t._v("Useful table for Types vs Interfaces")])])])])])]),e("p"),t._v(" "),e("h3",{attrs:{id:"basic-prop-types-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basic-prop-types-examples"}},[t._v("#")]),t._v(" Basic Prop Types Examples")]),t._v(" "),e("p",[t._v("在 React + TypeScript 的项目中，你可能会使用到的 TypeScript 类型：")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppProps")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  message"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  count"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  disabled"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** Array 数组 */")]),t._v("\n  names"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** union type  联合类型 */")]),t._v("\n  status"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"waiting"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** an object with known properties 已知具体属性的对象 */")]),t._v("\n  obj"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 对象数组! (common) */")]),t._v("\n  objArr"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 任何非基础数据类型 - can't access any properties (NOT COMMON but useful as placeholder) */")]),t._v("\n  obj2"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** an interface with no required properties - (NOT COMMON, except for things like `React.Component<{}, State>`) */")]),t._v("\n  obj3"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 字典对象，带有任何 string 类型的 key 值， value 为确定的某些类型 */")]),t._v("\n  dict1"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" MyTypeHere"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  dict2"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Record"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MyTypeHere"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同上")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 不返回任何值的函数 (VERY COMMON) */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onClick")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 带有形参的函数 (VERY COMMON) */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onChange")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** function type syntax that takes an event (VERY COMMON) */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onChange")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChangeEvent"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("HTMLInputElement"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** alternative function type syntax that takes an event (VERY COMMON) */")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onClick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MouseEvent"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("HTMLButtonElement"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** any function as long as you don't invoke it (not recommended) */")]),t._v("\n  onSomething"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** 可选类型 (VERY COMMON!) */")]),t._v("\n  optional"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" OptionalType"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** useState 返回的 setState 类型 */")]),t._v("\n  setState"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Dispatch"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SetStateAction"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"object-as-the-non-primitive-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#object-as-the-non-primitive-type"}},[t._v("#")]),t._v(" "),e("code",[t._v("object")]),t._v(" as the non-primitive type")]),t._v(" "),e("p",[e("code",[t._v("object")]),t._v(" 是在 TypeScript 中常被误解的类型。 它不是'any object', 而是'任何非基本数据类型(non-primitive type)'，\n即代表所有不包括 "),e("code",[t._v("number")]),t._v("，"),e("code",[t._v("string")]),t._v("，"),e("code",[t._v("boolean")]),t._v("，"),e("code",[t._v("symbol")]),t._v("，"),e("code",[t._v("null")]),t._v(" 和 "),e("code",[t._v("undefined")]),t._v(" 的数据类型。")]),t._v(" "),e("p",[t._v('使用 "非基本数据类型" 的类型表达在 react 中应该尽力避免的，应该尽量少用 '),e("code",[t._v("object")]),t._v(" 类型。")]),t._v(" "),e("h3",{attrs:{id:"empty-interface-and-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#empty-interface-and-object"}},[t._v("#")]),t._v(" Empty interface, "),e("code",[t._v("{}")]),t._v(" and "),e("code",[t._v("Object")])]),t._v(" "),e("p",[e("code",[t._v("{}")]),t._v(" 和 "),e("code",[t._v("Object")]),t._v(' 都代表 "所有非空值"，并非 "空对象". '),e("a",{attrs:{href:"https://typescript-eslint.io/rules/no-empty-interface/",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用这些类型是常见的误用，不建议"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language-typescript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AnyNonNullishValue")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// equivalent to `type AnyNonNullishValue = {}` or `type AnyNonNullishValue = Object`")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" AnyNonNullishValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// these are all fine, but might not be expected")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("value")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// these are errors")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvalue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"useful-react-prop-type-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#useful-react-prop-type-examples"}},[t._v("#")]),t._v(" Useful React Prop Type Examples")]),t._v(" "),e("p",[t._v("一些将 React 组件当做 props 传递的常用方式")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AppProps")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  children"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ReactNode"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// best, accepts everything React can render")]),t._v("\n  childrenElement"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSX")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Element"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// react element")]),t._v("\n  style"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CSSProperties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// style props")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// form 时间! the 其中的泛型参数是 event.target")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  more info: https://react-typescript-cheatsheet.netlify.app/docs/advanced/patterns_by_usecase/#wrappingmirroring")]),t._v("\n  onChange"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FormEventHandler"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("HTMLInputElement"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假冒所有的原生 button props，不转发自身的 ref")]),t._v("\n  props"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Props "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ComponentPropsWithoutRef"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"button"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模仿所有 MyButtonWithForwardRef 的属性，丙炔转发自身 ref")]),t._v("\n  props2"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Props "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" React"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ComponentPropsWithRef"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyButtonWithForwardRef"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("details",{staticClass:"custom-block details"},[e("summary",[e("u",[t._v("JSX.Element vs React.ReactNode?")])]),t._v(" "),e("p",[t._v("Quote @ferdaber: A more technical explanation is that a valid React node is not the same thing as what is returned by React.createElement. Regardless of what a component ends up rendering, React.createElement always returns an object, which is the JSX.Element interface, but React.ReactNode is the set of all possible return values of a component.")]),t._v(" "),e("p",[t._v("JSX.Element -> Return value of React.createElement")]),t._v(" "),e("p",[t._v("React.ReactNode -> Return value of a component")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/typescript-cheatsheets/react/issues/129",target:"_blank",rel:"noopener noreferrer"}},[t._v("More discussion: Where ReactNode does not overlap with JSX.Element"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/typescript-cheatsheets/react/issues/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("Something to add? File an issue"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"types-or-interfaces"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types-or-interfaces"}},[t._v("#")]),t._v(" Types or Interfaces?")]),t._v(" "),e("p",[t._v("Types 还是 Interfaces 都可以用来定义 Props 和 state，所以该怎么选？")]),t._v(" "),e("h4",{attrs:{id:"tl-dr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tl-dr"}},[t._v("#")]),t._v(" TL;DR")]),t._v(" "),e("p",[t._v("使用 Interface 直到你需要用 Type - "),e("a",{attrs:{href:"https://twitter.com/orta/status/1356129195835973632?s=20",target:"_blank",rel:"noopener noreferrer"}},[t._v("orta"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"more-advice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-advice"}},[t._v("#")]),t._v(" More Advice")]),t._v(" "),e("p",[t._v("以下是几点经验法则：")]),t._v(" "),e("ul",[e("li",[t._v("当你在编写库、npm 包时，总是用 "),e("code",[t._v("interface")]),t._v(" 定义 public API, 这样当一些类型丢失时，使用这些第三方包的用户能通过 "),e("code",[t._v("declaration merging")]),t._v(" 的方式补全类型")]),t._v(" "),e("li",[t._v("在定义 React 组件的 Props 和 State 时，考虑使用 "),e("code",[t._v("type")]),t._v("， 能提供一致性和更强的类型约束")])]),t._v(" "),e("p",[t._v("具体解释： "),e("a",{attrs:{href:"https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Interface vs Type alias in TypeScript 2.7"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("TypeScript Handbook 现在也提供了一些建议在 "),e("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces",target:"_blank",rel:"noopener noreferrer"}},[t._v("Differences Between Type Aliases and Interfaces"),e("OutboundLink")],1),t._v(" 这篇文章上.")]),t._v(" "),e("blockquote",[e("p",[t._v("Note: 越大规模，interfaces 在性能上会更优（具体详见"),e("a",{attrs:{href:"https://github.com/microsoft/TypeScript/wiki/Performance#preferring-interfaces-over-intersections",target:"_blank",rel:"noopener noreferrer"}},[t._v("此处"),e("OutboundLink")],1),t._v(" 但对此持"),e("a",{attrs:{href:"https://news.ycombinator.com/item?id=25201887",target:"_blank",rel:"noopener noreferrer"}},[t._v("保留态度"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("类型对于 union types 联合类型 (例如，类型 "),e("code",[t._v("MyType = TypeA | TypeB")]),t._v(") 很有用，而接口更适合于声明字典形状，然后"),e("code",[t._v("implementing")]),t._v("或"),e("code",[t._v("extending")]),t._v("它们。")]),t._v(" "),e("h3",{attrs:{id:"useful-table-for-types-vs-interfaces"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#useful-table-for-types-vs-interfaces"}},[t._v("#")]),t._v(" Useful table for Types vs Interfaces")]),t._v(" "),e("p",[t._v("这是一个微妙的话题，不要太在意。这里有一张便利的表格:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("比较")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Type")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Interface")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Can describe functions")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Can describe constructors")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Can describe tuples")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Interfaces can extend it")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("⚠️")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Classes can extend it")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("🚫")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Classes can implement it ("),e("code",[t._v("implements")]),t._v(")")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("⚠️")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Can intersect another one of its kind")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("⚠️")])]),t._v(" "),e("tr",[e("td",[t._v("Can create a union with another one of its kind")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("🚫")])]),t._v(" "),e("tr",[e("td",[t._v("Can be used to create mapped types")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("🚫")])]),t._v(" "),e("tr",[e("td",[t._v("Can be mapped over with mapped types")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Expands in error messages and logs")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("🚫")])]),t._v(" "),e("tr",[e("td",[t._v("Can be augmented")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("🚫")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])]),t._v(" "),e("tr",[e("td",[t._v("Can be recursive")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("⚠️")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("✅")])])])]),t._v(" "),e("p",[t._v("⚠️ In some cases")]),t._v(" "),e("p",[t._v("(来源: "),e("a",{attrs:{href:"https://twitter.com/karoljmajewski/status/1082413696075382785",target:"_blank",rel:"noopener noreferrer"}},[t._v("Karol Majewski"),e("OutboundLink")],1),t._v(")")])])}),[],!1,null,null,null);e.default=n.exports}}]);